<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enduro Student Portal - Online Test</title>
    
    <link rel="stylesheet" href="style.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> 
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body oncontextmenu="return false;">

    <div id="auth-view" class="login-wrapper">
        <div class="login-container">
            <div class="login-left">
                <div class="brand-section">
                    <div class="logo-container">
                        <div class="logo-circle">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                    </div>
                    <h1 class="brand-title">Enduro Student Portal</h1>
                    <p class="brand-subtitle">Excellence Through Assessment</p>
                </div>
                
                <div class="features-list">
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="feature-text">
                            <h4>Secure & Reliable</h4>
                            <p>Bank-grade security for your exams</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="feature-text">
                            <h4>Detailed Analytics</h4>
                            <p>Track your performance in real-time</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="feature-text">
                            <h4>Time Management</h4>
                            <p>Smart timers and progress tracking</p>
                        </div>
                    </div>
                </div>
                
                <div class="login-decoration">
                    <div class="floating-shape shape-1"></div>
                    <div class="floating-shape shape-2"></div>
                    <div class="floating-shape shape-3"></div>
                </div>
            </div>
            
            <div class="login-right">
                <div class="login-card">
                    <div class="login-header">
                        <h2>Welcome Back</h2>
                        <p>Sign in to access your exam dashboard</p>
                    </div>
                    
                    <div class="login-form">
                        <div class="auth-benefits">
                            <div class="benefit-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Access all your exams</span>
                            </div>
                            <div class="benefit-item">
                                <i class="fas fa-check-circle"></i>
                                <span>View detailed analytics</span>
                            </div>
                            <div class="benefit-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Track your progress</span>
                            </div>
                        </div>
                        
                        <button id="login-btn" class="google-signin-btn">
                            <div class="google-icon-wrapper">
                                <svg class="google-icon" viewBox="0 0 48 48">
                                    <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path>
                                    <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path>
                                    <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path>
                                    <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path>
                                    <path fill="none" d="M0 0h48v48H0z"></path>
                                </svg>
                            </div>
                            <span class="button-text">Continue with Google</span>
                        </button>
                        
                        <div class="divider">
                            <span>Secure Authentication</span>
                        </div>
                        
                        <div class="security-badges">
                            <div class="badge">
                                <i class="fas fa-lock"></i>
                                <span>SSL Encrypted</span>
                            </div>
                            <div class="badge">
                                <i class="fas fa-user-shield"></i>
                                <span>Privacy Protected</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="login-footer">
                        <p>By signing in, you agree to our <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a></p>
                    </div>
                </div>
                
                <div class="quick-stats">
                    <div class="stat-item">
                        <div class="stat-number">10K+</div>
                        <div class="stat-label">Active Students</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">500+</div>
                        <div class="stat-label">Exams Conducted</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">98%</div>
                        <div class="stat-label">Satisfaction Rate</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="dashboard-view" class="dashboard-container hidden">
        <div class="dashboard-sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h3>Enduro Portal</h3>
            </div>
            
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-file-alt"></i>
                    <span>My Exams</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analytics</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-history"></i>
                    <span>History</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <button id="logout-btn" class="logout-btn">
                    <i class="fa fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>
            </div>
        </div>
        
        <div class="dashboard-main">
            <header class="modern-dashboard-header">
                <div class="header-content">
                    <div class="welcome-section">
                        <h1>Welcome back, <span id="user-name-display" class="user-name">Student</span> üëã</h1>
                        <p class="subtitle">Here's what's happening with your exams today</p>
                    </div>
                    <div class="header-actions">
                        <button class="icon-btn notification-btn">
                            <i class="fas fa-bell"></i>
                            <span class="badge-dot"></span>
                        </button>
                        <div class="user-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                    </div>
                </div>
            </header>

            <div class="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <div class="stat-details">
                        <p class="stat-label">Total Exams</p>
                        <h3 class="stat-value" id="total-exams-stat">0</h3>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-details">
                        <p class="stat-label">Upcoming</p>
                        <h3 class="stat-value" id="upcoming-exams-stat">0</h3>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-details">
                        <p class="stat-label">Completed</p>
                        <h3 class="stat-value" id="completed-exams-stat">0</h3>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="stat-details">
                        <p class="stat-label">Avg Score</p>
                        <h3 class="stat-value" id="avg-score-stat">0%</h3>
                    </div>
                </div>
            </div>

            <section class="dashboard-section">
                <div class="section-header">
                    <div>
                        <h2 class="section-title">
                            <i class="fas fa-file-alt"></i>
                            Available Exams
                        </h2>
                        <p class="section-subtitle">Click on any exam to start</p>
                    </div>
                    <div class="section-actions">
                        <button class="filter-btn active">All</button>
                        <button class="filter-btn">Active</button>
                        <button class="filter-btn">Upcoming</button>
                    </div>
                </div>
                <div id="exam-list" class="modern-grid"></div>
            </section>

            <section class="dashboard-section">
                <div class="section-header">
                    <div>
                        <h2 class="section-title">
                            <i class="fas fa-history"></i>
                            Performance History
                        </h2>
                        <p class="section-subtitle">Track your past exam results</p>
                    </div>
                </div>
                <div id="history-list" class="modern-grid"></div>
            </section>
        </div>
    </div>

    <div id="exam-view" class="hidden">
        <div class="exam-header">
            <div style="display:flex; align-items:center; gap:15px;">
                <button id="toggle-sidebar" class="btn btn-outline btn-icon"><i class="fa fa-bars"></i></button>
                <div id="exam-title" style="font-weight:bold; font-size:1.1rem;">Physics Test</div>
            </div>
            
            <div style="display:flex; align-items:center; gap:15px;">
                <div id="timer" class="timer-badge">00:00:00</div>
                <button id="submit-btn" class="btn btn-success">Submit</button>
            </div>
        </div>

        <div class="exam-layout">
            <div class="question-area" id="q-area"></div>
            <div class="sidebar" id="palette"></div>
        </div>
    </div>

    <div id="analysis-overview" class="container hidden">
        <div class="dashboard-header">
            <h2 style="color:var(--dark)">Performance Analysis</h2>
            <div style="display: flex; gap: 10px;">
                <button class="btn btn-primary" onclick="downloadExamPDF()">
                    <i class="fa fa-download"></i> Download PDF
                </button>
                <button class="btn btn-outline" onclick="location.reload()">Back to Dashboard</button>
            </div>
        </div>

        <div class="analysis-header">
            <div id="score-container">
                <p style="color:var(--gray)">Your Score</p>
                <div class="score-big" id="an-score">0/0</div>
            </div>
            <div id="rank-container">
                <p style="color:var(--gray)">All India Rank (Est)</p>
                <div class="rank-badge" id="an-rank"># -</div>
            </div>
            <div id="accuracy-container" style="text-align:right">
                <p style="color:var(--gray)">Accuracy</p>
                <div style="font-size:1.5rem; font-weight:bold" id="an-accuracy">0%</div>
            </div>
        </div>

        <h3>Question Map (Click to View Solution)</h3>
        <div class="analysis-grid" id="an-grid"></div>
    </div>

    <div id="analysis-detail" class="container hidden">
        <div class="dashboard-header">
            <h2 style="color:var(--dark)">Detailed Solution</h2>
            <button class="btn btn-outline" onclick="backToAnalysisGrid()">Back to Scorecard</button>
        </div>
        
        <div id="sol-content" class="solution-view"></div>

        <div style="margin-top:20px; display:flex; justify-content:space-between">
            <button class="btn btn-outline" id="prev-sol-btn">Previous</button>
            <button class="btn btn-primary" id="next-sol-btn">Next</button>
        </div>
    </div>

    <!-- Student Details Modal -->
    <div id="student-details-modal" class="modal hidden">
        <div class="modal-content" style="max-width: 600px; max-height: 90vh; overflow-y: auto;">
            <h3 style="margin-bottom: 20px; color: var(--primary);">Enter Your Details</h3>
            <p style="color: var(--gray); margin-bottom: 20px;">Please provide your information before starting the exam.</p>
            <form id="student-details-form">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div style="grid-column: 1 / -1;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">Full Name *</label>
                        <input type="text" id="student-full-name" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
                    </div>
                    
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">WhatsApp Number *</label>
                        <input type="tel" id="student-phone" required pattern="[0-9]{10}" placeholder="10-digit number" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
                    </div>
                    
                    <div style="grid-column: 1 / -1;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">Gmail ID *</label>
                        <input type="email" id="student-email" required placeholder="yourmail@gmail.com" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
                    </div>
                    
                    <div style="grid-column: 1 / -1;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">Branch Name *</label>
                        <select id="student-branch" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
                            <option value="">-- Select Branch --</option>
                            <option value="Computer Science and Engineering">Computer Science and Engineering</option>
                            <option value="Electrical Engineering">Electrical Engineering</option>
                            <option value="Mechanical Engineering">Mechanical Engineering</option>
                            <option value="Civil Engineering">Civil Engineering</option>
                            <option value="Chemical Engineering">Chemical Engineering</option>
                            <option value="Engineering Physics">Engineering Physics</option>
                            <option value="other">Other (specify below)</option>
                        </select>
                    </div>
                    
                    <div id="other-branch-container" style="grid-column: 1 / -1; display: none;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">Please Specify Branch *</label>
                        <input type="text" id="student-branch-other" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
                    </div>
                </div>
                
                <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                    <button type="button" class="btn btn-outline" onclick="cancelStudentDetails()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Continue</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Result View (for exams with result type) -->
    <div id="result-view" class="container hidden">
        <div class="dashboard-header">
            <h2 style="color:var(--dark)">Exam Result</h2>
            <button class="btn btn-outline" onclick="location.reload()">Back to Dashboard</button>
        </div>
        
        <div class="dash-card" style="max-width: 600px; margin: 40px auto; text-align: center;">
            <div id="result-status" style="font-size: 4rem; margin-bottom: 20px;"></div>
            <h2 id="result-title" style="margin-bottom: 10px;"></h2>
            <p id="result-message" style="color: var(--gray); font-size: 1.1rem; margin-bottom: 30px;"></p>
            <div id="result-details" style="background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: left;"></div>
        </div>
    </div>

    <!-- Exam Introduction View -->
    <div id="introduction-view" class="container hidden">
        <div class="dashboard-header">
            <h2 style="color:var(--primary)" id="intro-title">Exam Instructions</h2>
            <button class="btn btn-outline" onclick="cancelIntroduction()">
                <i class="fa fa-times"></i> Cancel
            </button>
        </div>
        
        <div class="dash-card" style="max-width: 900px; margin: 20px auto;">
            <div id="intro-content" style="line-height: 1.8; font-size: 1rem;"></div>
            
            <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid var(--border);">
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 0.9rem; color: var(--gray); margin-bottom: 5px;">Time remaining to read instructions:</div>
                    <div id="intro-timer" style="font-size: 1.5rem; font-weight: bold; color: var(--primary);">2:00</div>
                </div>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button class="btn btn-outline" onclick="cancelIntroduction()">Cancel</button>
                    <button class="btn btn-success" id="start-exam-btn" onclick="proceedToMainInstructions()" style="font-size: 1.1rem; padding: 12px 40px;">
                        <i class="fa fa-arrow-right"></i> Continue to Instructions
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Instructions View (Exam Interface Guide) -->
    <div id="main-instructions-view" class="container hidden">
        <div class="dashboard-header">
            <h2 style="color:var(--primary)">How to Use the Exam Interface</h2>
            <button class="btn btn-outline" onclick="cancelMainInstructions()">
                <i class="fa fa-times"></i> Cancel
            </button>
        </div>
        
        <div class="dash-card" style="max-width: 1000px; margin: 20px auto;">
            <div style="line-height: 1.8; font-size: 1rem;">
                <h3 style="color: var(--primary); margin-bottom: 15px;">üìã Exam Interface Overview</h3>
                <p style="margin-bottom: 20px;">This guide will help you understand all the features available during your exam. Please read carefully.</p>
                
                <hr style="margin: 25px 0; border: 1px solid #e0e0e0;">
                
                <h4 style="color: var(--dark); margin-bottom: 10px;">üéØ Question Palette (Right Sidebar)</h4>
                <p style="margin-bottom: 15px;">The question palette on the right side shows all questions with color-coded status:</p>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 35px; height: 35px; background: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">1</div>
                            <div><strong>Green</strong> - Answered</div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 35px; height: 35px; background: var(--danger); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">2</div>
                            <div><strong>Red</strong> - Not Answered (Visited but Skipped)</div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 35px; height: 35px; background: var(--purple); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">3</div>
                            <div><strong>Purple</strong> - Marked for Review</div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 35px; height: 35px; background: #ccc; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">4</div>
                            <div><strong>Gray</strong> - Not Visited Yet</div>
                        </div>
                    </div>
                    <p style="margin-top: 15px; color: var(--gray); font-size: 0.9rem;"><strong>Tip:</strong> Click on any question number in the palette to jump directly to that question.</p>
                </div>
                
                <hr style="margin: 25px 0; border: 1px solid #e0e0e0;">
                
                <h4 style="color: var(--dark); margin-bottom: 10px;">üîò Action Buttons</h4>
                <p style="margin-bottom: 15px;">Below each question, you'll find these buttons:</p>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <button class="btn btn-outline" style="pointer-events: none; min-width: 120px;">Save & Next</button>
                            <span>Saves your answer and moves to the next question</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <button class="btn btn-outline" style="pointer-events: none; border-color: var(--warning); min-width: 120px;">Mark Review</button>
                            <span>Marks question for review (with or without answer) - you can revisit it later</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <button class="btn btn-outline" style="pointer-events: none; min-width: 120px;">Clear</button>
                            <span>Clears your selected answer for the current question</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <button class="btn btn-primary" style="pointer-events: none; min-width: 120px;">Next ></button>
                            <span>Moves to the next question without saving (useful for skipping)</span>
                        </div>
                    </div>
                </div>
                
                <hr style="margin: 25px 0; border: 1px solid #e0e0e0;">
                
                <h4 style="color: var(--dark); margin-bottom: 10px;">‚è±Ô∏è Timer & Submit</h4>
                <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #ffc107;">
                    <p style="margin-bottom: 10px;"><strong>Timer:</strong> The timer at the top right shows remaining time. The exam will auto-submit when time expires.</p>
                    <p style="margin-bottom: 0;"><strong>Submit Button:</strong> Click the green "Submit" button at the top right when you're done. You'll be asked to confirm before final submission.</p>
                </div>
                
                <hr style="margin: 25px 0; border: 1px solid #e0e0e0;">
                
                <h4 style="color: var(--dark); margin-bottom: 10px;">üì± Sidebar Toggle</h4>
                <p style="margin-bottom: 15px;">Click the menu icon (‚ò∞) at the top left to collapse/expand the question palette for more screen space.</p>
                
                <hr style="margin: 25px 0; border: 1px solid #e0e0e0;">
                
                <h4 style="color: var(--dark); margin-bottom: 10px;">‚ö†Ô∏è Important Reminders</h4>
                <div style="background: #f8d7da; padding: 15px; border-radius: 8px; border-left: 4px solid #dc3545;">
                    <ul style="margin: 0; padding-left: 20px;">
                        <li style="margin-bottom: 8px;"><strong>DO NOT refresh</strong> or close the browser tab during the exam</li>
                        <li style="margin-bottom: 8px;"><strong>DO NOT switch tabs</strong> excessively - it may lead to auto-submission</li>
                        <li style="margin-bottom: 8px;"><strong>Ensure stable internet connection</strong> throughout the exam</li>
                        <li style="margin-bottom: 8px;"><strong>Answer submission is final</strong> - you can change answers after clicking "Save & Next" also</li>
                        <li style="margin-bottom: 0;"><strong>Review marked questions</strong> before final submission if time permits</li>
                    </ul>
                </div>
                
                <div style="background: #d1ecf1; padding: 15px; border-radius: 8px; border-left: 4px solid #0c5460; margin-top: 20px;">
                    <p style="margin: 0;"><strong>üí° Pro Tip:</strong> Use the "Mark Review" button for questions you're unsure about, then use the question palette to quickly navigate back to them before submitting.</p>
                </div>
            </div>
            
            <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid var(--border);">
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 0.9rem; color: var(--gray); margin-bottom: 5px;">Time remaining to read these instructions:</div>
                    <div id="main-instructions-timer" style="font-size: 1.5rem; font-weight: bold; color: var(--primary);">5:00</div>
                    <p style="color: var(--gray); font-size: 0.85rem; margin-top: 10px;">The exam will start automatically when the timer reaches 00:00</p>
                </div>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button class="btn btn-outline" onclick="cancelMainInstructions()">Cancel</button>
                    <button class="btn btn-success" id="start-exam-now-btn" onclick="confirmAndStartExam()" style="font-size: 1.1rem; padding: 12px 40px;">
                        <i class="fa fa-check"></i> I'm Ready - Start Exam Now
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Feedback Modal -->
    <div id="feedback-modal" class="modal hidden">
        <div class="modal-content" style="max-width: 600px; max-height: 90vh; overflow-y: auto;">
            <h3 style="margin-bottom: 20px; color: var(--primary);">
                <i class="fas fa-comment-dots"></i> Exam Feedback
            </h3>
            <p style="color: var(--gray); margin-bottom: 25px;">Your feedback helps us improve the exam experience. Please share your thoughts!</p>
            
            <form id="feedback-form">
                <div style="margin-bottom: 25px;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600; font-size: 1rem;">
                        How would you rate this exam? *
                    </label>
                    <div id="rating-stars" style="display: flex; gap: 10px; font-size: 2.5rem; cursor: pointer; justify-content: center; padding: 15px 0;">
                        <span class="star" data-rating="1">‚òÜ</span>
                        <span class="star" data-rating="2">‚òÜ</span>
                        <span class="star" data-rating="3">‚òÜ</span>
                        <span class="star" data-rating="4">‚òÜ</span>
                        <span class="star" data-rating="5">‚òÜ</span>
                    </div>
                    <input type="hidden" id="feedback-rating" required>
                    <div id="rating-error" style="color: red; font-size: 0.9rem; text-align: center; display: none; margin-top: 5px;">
                        Please select a rating
                    </div>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600; font-size: 1rem;">
                        Question Difficulty Level *
                    </label>
                    <select id="feedback-difficulty" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem;">
                        <option value="">-- Select Difficulty --</option>
                        <option value="Too Easy">Too Easy</option>
                        <option value="Easy">Easy</option>
                        <option value="Just Right">Just Right</option>
                        <option value="Difficult">Difficult</option>
                        <option value="Too Difficult">Too Difficult</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600; font-size: 1rem;">
                        Additional Comments (Optional)
                    </label>
                    <textarea id="feedback-comments" rows="5" placeholder="Share your experience, suggestions, or any issues you faced..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem; resize: vertical; font-family: inherit;"></textarea>
                </div>
                
                <div style="background: #fff3cd; padding: 15px; border-radius: 8px; border-left: 4px solid #ffc107; margin-bottom: 25px;">
                    <p style="margin: 0; font-size: 0.9rem; color: #856404;">
                        <i class="fas fa-info-circle"></i> <strong>Note:</strong> Your feedback is valuable and helps us improve future exams. Please be honest and constructive.
                    </p>
                </div>
                
                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button type="submit" class="btn btn-primary" style="font-size: 1.1rem; padding: 12px 30px;">
                        <i class="fas fa-paper-plane"></i> Submit Feedback & View Results
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script type="module" src="student.js"></script>
</body>
</html>